{
  "fields": [{
      "name": "facility-id",
      "title": "Facility ID",
      "type": "string",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "period-start-date",
      "title": "Period Start Date",
      "type": "date",
      "constraints": {
        "required": true,
        "minimum": "1900-01-01",
        "maximum": "2030-01-01",
        "date-format": "YYYY-MM-DD"
      }
    },
    {
      "name": "period-end-date",
      "title": "Period End Date",
      "type": "date",
      "constraints": {
        "required": true,
        "minimum": "1900-01-01",
        "maximum": "2030-01-01",
        "date-format": "YYYY-MM-DD"
      }
    },
    {
      "name": "age-start",
      "title": "Age Start",
      "type": "number",
      "decimalChar": ".",
      "constraints": {
        "required": true,
        "minimum": 0,
        "maximum": 130
      }
    },
    {
      "name": "age-span",
      "title": "Age Span",
      "type": "number",
      "decimalChar": ".",
      "constraints": {
        "required": true,
        "minimum": 1,
        "maximum": 130
      }
    },
    {
      "name": "clients",
      "title": "Number clients",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "known-positive",
      "title": "Number known positive",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "hiv-tested",
      "title": "Number HIV tested",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "hiv-positive",
      "title": "Number HIV positive",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "already-art",
      "title": "Number already on ART",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    }
  ],
  "primaryKey": ["facility-id", "period-end-date", "age-start"],
  "foreignKeys": [{
    "fields": "facility-id",
    "reference": {
      "resource": "unaids_geographic_facilities",
      "fields": "facility-id"
    }
  }],
  "custom-constraint": {
    "constraint": "clients >= known-positive",
    "constraint": "clients >= hiv-tested",
    "constraint": "clients >= hiv-positive",
    "constraint": "clients >= already-art "
  }
}
