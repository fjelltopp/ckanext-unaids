{
  "fields": [{
      "name": "facility_id",
      "title": "Facility ID",
      "type": "string",
      "constraints": {
        "required": true
      },
      "foreignKey": "3d64b8c5-b005-4627-a02f-8a3310a19ce6:facility_id"
    },
    {
      "name": "period_start_date",
      "title": "Period Start Date",
      "type": "date",
      "constraints": {
        "required": true,
        "minimum": "1900-01-01",
        "maximum": "2030-01-01",
        "date-format": "YYYY-MM-DD"
      }
    },
    {
      "name": "period_end_date",
      "title": "Period End Date",
      "type": "date",
      "constraints": {
        "required": true,
        "minimum": "1900-01-01",
        "maximum": "2030-01-01",
        "date-format": "YYYY-MM-DD"
      }
    },
    {
      "name": "age_start",
      "title": "Age Start",
      "type": "number",
      "decimalChar": ".",
      "constraints": {
        "required": true,
        "minimum": 0,
        "maximum": 130
      }
    },
    {
      "name": "age_span",
      "title": "Age Span",
      "type": "number",
      "decimalChar": ".",
      "constraints": {
        "required": true,
        "minimum": 1,
        "maximum": 130
      }
    },
    {
      "name": "clients",
      "title": "Number clients",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "known_positive",
      "title": "Number known positive",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "hiv_tested",
      "title": "Number HIV tested",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "hiv_positive",
      "title": "Number HIV positive",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "already_art",
      "title": "Number already on ART",
      "type": "integer",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    }
  ],
  "primaryKey": ["facility_id", "period_end_date", "age_start"],
  "foreignKeys": [{
    "fields": "facility_id",
    "reference": {
      "resource": "unaids_geographic_facilities",
      "fields": "facility_id"
    }
  }],
  "custom-constraint": {
      "constraint": "clients >= known_positive",
      "constraint": "clients >= hiv_tested",
      "constraint": "clients >= hiv_positive",
      "constraint": "clients >= already_art"
  }
}
