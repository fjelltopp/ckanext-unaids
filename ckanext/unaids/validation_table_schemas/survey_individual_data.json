{
  "fields": [{
      "name": "survey_id",
      "title": "Survey ID",
      "type": "string",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "cluster_id",
      "title": "Cluster ID",
      "type": "string",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "individual_id",
      "title": "Individual ID",
      "type": "string",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "sex",
      "title": "Sex",
      "type": "string",
      "constraints": {
				"enum": ["male", "female"],
        "required": true
      }
    },
    {
      "name": "age",
      "title": "Age",
      "type": "integer",
      "decimalChar": ".",
      "constraints": {
        "required": true,
        "minimum": 0,
        "maximum": 130
      }
    },
    {
      "name": "dob",
      "title": "Date of Birth",
      "type": "date",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "hiv_status",
      "title": "HIV Status",
      "type": "string",
      "constraints": {
				"enum": ["positive", "negative", "indeterminant"],
        "required": true
      }
    },
    {
      "name": "art",
      "title": "On ART",
      "type": "boolean",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "arv_biomarker",
      "title": "ARV biomarker detected",
      "type": "string",
      "constraints": {
				"enum": ["detected", "undetected", "indeterminant", "not applicable"],
        "required": true
      }
    },
    {
      "name": "vls",
      "title": "Viral load supression",
      "type": "boolean",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "ever_tested",
      "title": "Ever tested",
      "type": "boolean",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "aware",
      "title": "Aware of HIV status",
      "type": "boolean",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "ever_had_sex",
      "title": "Ever had sex",
      "type": "boolean",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "age_first_sex",
      "title": "Age first had sex",
      "type": "integer",
      "decimalChar": ".",
      "constraints": {
        "required": true,
        "minimum": 0,
        "maximum": 130
      }
    },
    {
      "name": "circumsised",
      "title": "Circumsised",
      "type": "boolean",
      "constraints": {
        "required": true
      }
    }
  ],
  "primaryKey": ["survey_id", "individual_id"],
  "foreignKeys": [{
      "fields": "cluster_id",
      "reference": {
        "resource": "survey_cluster_data",
        "fields": "cluster_id"
      }
    },
    {
      "fields": "survey_id",
      "reference": {
        "resource": "survey_metadata",
        "fields": "survey_id"
      }
    }
  ]
}
